<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vivace — Painel</title>
  <link rel="stylesheet" href="/FrontEnd/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">V</div>
        <div class="name">Vivace</div>
      </div>
      <nav>
        <a class="active" href="#">Visão Geral</a>
        <a href="#">Financeiro</a>
        <a href="#">Reservas</a>
        <a href="#">Documentos</a>
        <a href="#">Configurações</a>
      </nav>
      <div class="sidebar-footer">v1.0</div>
    </aside>

    <div class="main">
      <header class="topbar">
        <div class="left">Painel — Vivace</div>
        <div class="right">
          <div class="api-config">API: <span id="apiUrlDisplay">http://localhost:5202/api</span></div>
          <div class="user">Gabriel</div>
        </div>
      </header>

      <main class="content">
        <section class="grid-top">
          <div class="card small" id="card-receita"><small>Receita Mensal</small><div class="big" id="receitaCard">R$ 0,00</div></div>
          <div class="card small" id="card-despesa"><small>Despesa Mensal</small><div class="big" id="despesaCard">R$ 0,00</div></div>
          <div class="card small" id="card-inad"><small>Inadimplentes</small><div class="big" id="inadimplentesCard">0</div></div>
          <div class="card small" id="card-taxa"><small>Taxa de Cobrança</small><div class="big" id="taxaCard">0%</div></div>
        </section>

        <section class="grid-charts">
          <div class="card">
            <h3>Evolução (Receita vs Despesa)</h3>
            <canvas id="chartEvolucao"></canvas>
          </div>

          <div class="card">
            <h3>Distribuição</h3>
            <canvas id="chartPizza"></canvas>
          </div>
        </section>

        <section class="card">
          <h3>Receitas recentes</h3>
          <table id="tabelaReceitas">
            <thead><tr><th>ID</th><th>Descrição</th><th>Valor</th><th>Data</th></tr></thead>
            <tbody><tr><td colspan="4">Carregando...</td></tr></tbody>
          </table>
        </section>

        <section class="card">
          <h3>Relatórios</h3>
          <div class="controls">
            <button id="btnExportInadimplencia" class="btn ghost">Exportar Inadimplência (Excel)</button>
            <button id="btnGerarBalancete" class="btn">Gerar Balancete (PDF)</button>
          </div>
        </section>
      </main>

      <footer class="footer">© Vivace</footer>
    </div>
  </div>

  <!-- Modal Pix -->
  <div id="pixModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;">
    <div style="background:#fff;padding:20px;border-radius:12px;position:relative;text-align:center;max-width:300px;">
      <span id="closeModal" style="position:absolute;top:5px;right:10px;cursor:pointer;font-weight:bold;">X</span>
      <h3>Pagamento Pix</h3>
      <div id="qrcode"></div>
      <p id="pixInfo" style="white-space:pre-line;"></p>
    </div>
  </div>

  <script src="/FrontEnd/script.js"></script>
</body>
</html>
